{"id":"ESms","dependencies":[{"name":"/Users/davidcodina/Desktop/code-jan-2021/part-1/React/React & Firebase/general/Building Web Applications with Firebase/sound-chat/package.json","includedInParent":true,"mtime":1609265989819},{"name":"firebase/app","loc":{"line":1,"column":21},"parent":"/Users/davidcodina/Desktop/code-jan-2021/part-1/React/React & Firebase/general/Building Web Applications with Firebase/sound-chat/src/firebase/firebaseRepository.js","resolved":"/Users/davidcodina/Desktop/code-jan-2021/part-1/React/React & Firebase/general/Building Web Applications with Firebase/sound-chat/node_modules/firebase/app/dist/index.esm.js"},{"name":"firebase/auth","loc":{"line":2,"column":7},"parent":"/Users/davidcodina/Desktop/code-jan-2021/part-1/React/React & Firebase/general/Building Web Applications with Firebase/sound-chat/src/firebase/firebaseRepository.js","resolved":"/Users/davidcodina/Desktop/code-jan-2021/part-1/React/React & Firebase/general/Building Web Applications with Firebase/sound-chat/node_modules/firebase/auth/dist/index.esm.js"},{"name":"firebase/firestore","loc":{"line":3,"column":7},"parent":"/Users/davidcodina/Desktop/code-jan-2021/part-1/React/React & Firebase/general/Building Web Applications with Firebase/sound-chat/src/firebase/firebaseRepository.js","resolved":"/Users/davidcodina/Desktop/code-jan-2021/part-1/React/React & Firebase/general/Building Web Applications with Firebase/sound-chat/node_modules/firebase/firestore/dist/index.esm.js"},{"name":"./firebaseConfiguration","loc":{"line":4,"column":42},"parent":"/Users/davidcodina/Desktop/code-jan-2021/part-1/React/React & Firebase/general/Building Web Applications with Firebase/sound-chat/src/firebase/firebaseRepository.js","resolved":"/Users/davidcodina/Desktop/code-jan-2021/part-1/React/React & Firebase/general/Building Web Applications with Firebase/sound-chat/src/firebase/firebaseConfiguration.js"},{"name":"../scripts/utilities.js","loc":{"line":5,"column":25},"parent":"/Users/davidcodina/Desktop/code-jan-2021/part-1/React/React & Firebase/general/Building Web Applications with Firebase/sound-chat/src/firebase/firebaseRepository.js","resolved":"/Users/davidcodina/Desktop/code-jan-2021/part-1/React/React & Firebase/general/Building Web Applications with Firebase/sound-chat/src/scripts/utilities.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.writeSongToFirestore=s,exports.getArtistName=u,exports.readSongsFromFirestore=f,exports.deleteSongFromFirestore=l,exports.getSongFromFirestore=d,exports.updateSongInFirebase=g,exports.getAudioFromStorage=h,exports.getAllArtists=m,exports.saveCommentToFirestore=p,exports.getCommentsForSong=b;var e=n(require(\"firebase/app\"));require(\"firebase/auth\"),require(\"firebase/firestore\");var t=require(\"./firebaseConfiguration\"),o=require(\"../scripts/utilities.js\");function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function c(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach(function(t){i(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function s(o,n,r){return new Promise(function(c,i){var s={songTitle:n,songFileName:r.name};e.default.auth().onAuthStateChanged(function(e){e&&(t.firestoreDb.collection(\"users/\".concat(e.uid,\"/songs\")).add(s).then(function(t){c(),console.log(\"Song document Id: \",t.id),a(e.uid,t.id,r)}).catch(function(e){i(\"There was an error while writing a song to firestore.\")}),o&&t.firestoreDb.doc(\"users/\".concat(e.uid)).set({artistName:o}))})})}function a(e,o,n){t.cloudStorage.ref(\"songs/\".concat(e,\"/\").concat(o,\"-\").concat(n.name)).put(n).on(\"state_changed\",function(e){console.log(\"Bytes transferred: \",e.bytesTransferred),console.log(\"Total bytes: \",e.totalBytes)},function(e){console.error(\"There was an error while saving to Cloud Storage: \",e)},function(){console.log(\"File successfully saved to Cloud Storage\")})}function u(e){return new Promise(function(o){t.firestoreDb.doc(\"users/\".concat(e)).get().then(function(e){e.exists&&o(e.data().artistName)})})}function f(e){return new Promise(function(o){u(e).then(function(n){var r=[];t.firestoreDb.collection(\"users/\".concat(e,\"/songs\")).get().then(function(e){e.forEach(function(e){var t=c(c({},e.data()),{},{id:e.id,songArtist:n});r.push(t)}),o(r)}).catch(function(e){console.log(e)})})})}function l(o){e.default.auth().onAuthStateChanged(function(e){e&&t.firestoreDb.doc(\"users/\".concat(e.uid,\"/songs/\").concat(o)).delete().then(function(){console.log(\"The song with an id of \".concat(o,\" has been deleted successfully\"))}).catch(function(e){})})}function d(o){return new Promise(function(n,r){e.default.auth().onAuthStateChanged(function(e){e&&t.firestoreDb.doc(\"users/\".concat(e.uid,\"/songs/\").concat(o)).get().then(function(e){if(e.exists){var t=c(c({},e.data()),{},{id:e.id});n(t)}}).catch(function(e){r(\"There was an error while trying to get song with id \".concat(o))})})})}function g(o){e.default.auth().onAuthStateChanged(function(e){if(e){var n=t.firestoreDb.doc(\"users/\".concat(e.uid,\"/songs/\").concat(o.id)),r={songTitle:o.songTitle};n.update(r).then(function(){console.log(\"Your song was updated successfully: \",o)}).catch(function(e){console.error(\"There was an error while updating your song: \",o,e)})}})}function h(e,o){return new Promise(function(n){t.cloudStorage.ref(\"songs/\".concat(e,\"/\").concat(o)).getDownloadURL().then(function(e){return n(e)}).catch(function(e){console.error(\"There was an error while retrieving a file from Cloud Storage\",e)})})}function m(){return new Promise(function(e){var o=[];t.firestoreDb.collection(\"users\").get().then(function(t){t.forEach(function(e){var t=c(c({},e.data()),{},{id:e.id});o.push(t)}),e(o)})})}function p(o,n){e.default.auth().onAuthStateChanged(function(e){if(e){var r=t.firestoreDb.collection(\"comments\"),c=e.displayName?e.displayName:\"Anonymous\";r.add({userId:e.uid,userName:c,songId:n,commentText:o,date:Date.now()}).then(function(){console.log(\"Comment successfully added to firestore.\")}).catch(function(e){console.error(\"There was an error when trying to add your comment to firestore: \",e)})}})}function b(e){return new Promise(function(o){var n=t.firestoreDb.collection(\"comments\").where(\"songId\",\"==\",e),r=[];n.get().then(function(e){e.forEach(function(e){r.push(e.data())}),o(r)})})}"},"sourceMaps":{"js":{"mappings":[{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":0}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":13}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":20}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":35}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":43}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":56}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":57}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":64}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":68}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":76}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":97}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":99}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":107}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":121}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":123}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":131}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":154}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":156}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":164}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":188}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":190}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":198}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":219}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":221}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":229}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":250}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":252}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":260}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":280}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":282}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":290}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":304}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":306}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":314}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":337}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":339}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":347}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":366}},{"source":"firebase/firebaseRepository.js","original":{"line":1,"column":0},"generated":{"line":1,"column":368}},{"source":"firebase/firebaseRepository.js","original":{"line":1,"column":0},"generated":{"line":1,"column":372}},{"source":"firebase/firebaseRepository.js","original":{"line":1,"column":0},"generated":{"line":1,"column":374}},{"source":"firebase/firebaseRepository.js","original":{"line":1,"column":0},"generated":{"line":1,"column":376}},{"source":"firebase/firebaseRepository.js","original":{"line":1,"column":0},"generated":{"line":1,"column":384}},{"source":"firebase/firebaseRepository.js","original":{"line":2,"column":0},"generated":{"line":1,"column":401}},{"source":"firebase/firebaseRepository.js","original":{"line":2,"column":0},"generated":{"line":1,"column":409}},{"source":"firebase/firebaseRepository.js","original":{"line":3,"column":0},"generated":{"line":1,"column":426}},{"source":"firebase/firebaseRepository.js","original":{"line":3,"column":0},"generated":{"line":1,"column":434}},{"source":"firebase/firebaseRepository.js","original":{"line":4,"column":0},"generated":{"line":1,"column":456}},{"source":"firebase/firebaseRepository.js","original":{"line":4,"column":0},"generated":{"line":1,"column":460}},{"source":"firebase/firebaseRepository.js","original":{"line":4,"column":0},"generated":{"line":1,"column":462}},{"source":"firebase/firebaseRepository.js","original":{"line":4,"column":0},"generated":{"line":1,"column":470}},{"source":"firebase/firebaseRepository.js","original":{"line":5,"column":0},"generated":{"line":1,"column":497}},{"source":"firebase/firebaseRepository.js","original":{"line":5,"column":0},"generated":{"line":1,"column":499}},{"source":"firebase/firebaseRepository.js","original":{"line":5,"column":0},"generated":{"line":1,"column":507}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":534}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":543}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":545}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":548}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":555}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":558}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":560}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":571}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":573}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":574}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":582}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":585}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":594}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":596}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":598}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":601}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":605}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":607}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":614}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":619}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":622}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":625}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":632}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":654}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":655}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":659}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":661}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":668}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":690}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":693}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":697}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":699}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":701}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":708}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":717}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":720}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":727}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":734}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":759}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":761}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":764}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":778}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":780}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":785}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":791}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":793}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":796}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":803}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":805}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":814}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":816}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":819}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":823}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":827}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":829}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":831}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":833}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":843}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":850}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":854}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":855}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":859}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":861}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":867}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":877}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":880}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":890}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":893}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":896}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":898}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":900}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":902}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":909}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":913}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":916}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":924}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":933}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":936}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":938}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":940}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":942}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":944}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":950}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":957}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":983}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":990}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1007}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1009}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1016}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1042}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1046}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1048}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1055}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1059}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1067}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1076}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1079}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1086}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1101}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1103}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1105}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1112}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1137}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1139}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1145}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1152}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1154}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1163}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1165}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1167}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1169}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1172}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1179}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1184}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1186}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1193}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1208}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1210}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1212}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1213}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1219}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1221}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1233}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1235}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1249}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1251}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1261}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1265}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1267}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1270}},{"source":"firebase/firebaseRepository.js","original":{"line":385,"column":0},"generated":{"line":1,"column":1272}},{"source":"firebase/firebaseRepository.js","original":{"line":13,"column":7},"generated":{"line":1,"column":1274}},{"source":"firebase/firebaseRepository.js","name":"writeSongToFirestore","original":{"line":13,"column":16},"generated":{"line":1,"column":1283}},{"source":"firebase/firebaseRepository.js","name":"songArtist","original":{"line":13,"column":37},"generated":{"line":1,"column":1285}},{"source":"firebase/firebaseRepository.js","name":"songTitle","original":{"line":13,"column":49},"generated":{"line":1,"column":1287}},{"source":"firebase/firebaseRepository.js","name":"songFile","original":{"line":13,"column":60},"generated":{"line":1,"column":1289}},{"source":"firebase/firebaseRepository.js","original":{"line":25,"column":9},"generated":{"line":1,"column":1292}},{"source":"firebase/firebaseRepository.js","original":{"line":25,"column":9},"generated":{"line":1,"column":1299}},{"source":"firebase/firebaseRepository.js","name":"Promise","original":{"line":25,"column":13},"generated":{"line":1,"column":1303}},{"source":"firebase/firebaseRepository.js","original":{"line":25,"column":21},"generated":{"line":1,"column":1311}},{"source":"firebase/firebaseRepository.js","name":"resolve","original":{"line":25,"column":22},"generated":{"line":1,"column":1320}},{"source":"firebase/firebaseRepository.js","name":"reject","original":{"line":25,"column":31},"generated":{"line":1,"column":1322}},{"source":"firebase/firebaseRepository.js","name":"song","original":{"line":27,"column":10},"generated":{"line":1,"column":1325}},{"source":"firebase/firebaseRepository.js","name":"song","original":{"line":27,"column":10},"generated":{"line":1,"column":1329}},{"source":"firebase/firebaseRepository.js","original":{"line":27,"column":17},"generated":{"line":1,"column":1331}},{"source":"firebase/firebaseRepository.js","name":"songTitle","original":{"line":28,"column":6},"generated":{"line":1,"column":1332}},{"source":"firebase/firebaseRepository.js","name":"songTitle","original":{"line":28,"column":17},"generated":{"line":1,"column":1342}},{"source":"firebase/firebaseRepository.js","name":"songFileName","original":{"line":29,"column":6},"generated":{"line":1,"column":1344}},{"source":"firebase/firebaseRepository.js","name":"songFile","original":{"line":29,"column":20},"generated":{"line":1,"column":1357}},{"source":"firebase/firebaseRepository.js","name":"name","original":{"line":29,"column":29},"generated":{"line":1,"column":1359}},{"source":"firebase/firebaseRepository.js","name":"auth","original":{"line":33,"column":13},"generated":{"line":1,"column":1365}},{"source":"firebase/firebaseRepository.js","name":"auth","original":{"line":33,"column":13},"generated":{"line":1,"column":1367}},{"source":"firebase/firebaseRepository.js","name":"auth","original":{"line":33,"column":13},"generated":{"line":1,"column":1375}},{"source":"firebase/firebaseRepository.js","name":"onAuthStateChanged","original":{"line":33,"column":20},"generated":{"line":1,"column":1382}},{"source":"firebase/firebaseRepository.js","original":{"line":33,"column":39},"generated":{"line":1,"column":1401}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":33,"column":39},"generated":{"line":1,"column":1410}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":34,"column":10},"generated":{"line":1,"column":1413}},{"source":"firebase/firebaseRepository.js","name":"firestoreDb","original":{"line":36,"column":32},"generated":{"line":1,"column":1417}},{"source":"firebase/firebaseRepository.js","name":"collection","original":{"line":36,"column":44},"generated":{"line":1,"column":1419}},{"source":"firebase/firebaseRepository.js","name":"collection","original":{"line":36,"column":44},"generated":{"line":1,"column":1431}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":36,"column":64},"generated":{"line":1,"column":1442}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":36,"column":64},"generated":{"line":1,"column":1451}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":36,"column":64},"generated":{"line":1,"column":1458}},{"source":"firebase/firebaseRepository.js","name":"uid","original":{"line":36,"column":69},"generated":{"line":1,"column":1460}},{"source":"firebase/firebaseRepository.js","original":{"line":36,"column":8},"generated":{"line":1,"column":1464}},{"source":"firebase/firebaseRepository.js","name":"add","original":{"line":39,"column":24},"generated":{"line":1,"column":1475}},{"source":"firebase/firebaseRepository.js","name":"song","original":{"line":39,"column":28},"generated":{"line":1,"column":1479}},{"source":"firebase/firebaseRepository.js","name":"then","original":{"line":40,"column":9},"generated":{"line":1,"column":1482}},{"source":"firebase/firebaseRepository.js","original":{"line":40,"column":14},"generated":{"line":1,"column":1487}},{"source":"firebase/firebaseRepository.js","name":"docRef","original":{"line":40,"column":14},"generated":{"line":1,"column":1496}},{"source":"firebase/firebaseRepository.js","name":"resolve","original":{"line":41,"column":10},"generated":{"line":1,"column":1499}},{"source":"firebase/firebaseRepository.js","name":"console","original":{"line":42,"column":10},"generated":{"line":1,"column":1503}},{"source":"firebase/firebaseRepository.js","name":"log","original":{"line":42,"column":18},"generated":{"line":1,"column":1511}},{"source":"firebase/firebaseRepository.js","original":{"line":42,"column":22},"generated":{"line":1,"column":1515}},{"source":"firebase/firebaseRepository.js","name":"docRef","original":{"line":42,"column":44},"generated":{"line":1,"column":1536}},{"source":"firebase/firebaseRepository.js","name":"id","original":{"line":42,"column":51},"generated":{"line":1,"column":1538}},{"source":"firebase/firebaseRepository.js","name":"saveSongFile","original":{"line":46,"column":10},"generated":{"line":1,"column":1542}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":46,"column":23},"generated":{"line":1,"column":1544}},{"source":"firebase/firebaseRepository.js","name":"uid","original":{"line":46,"column":28},"generated":{"line":1,"column":1546}},{"source":"firebase/firebaseRepository.js","name":"docRef","original":{"line":46,"column":33},"generated":{"line":1,"column":1550}},{"source":"firebase/firebaseRepository.js","name":"id","original":{"line":46,"column":40},"generated":{"line":1,"column":1552}},{"source":"firebase/firebaseRepository.js","name":"songFile","original":{"line":46,"column":44},"generated":{"line":1,"column":1555}},{"source":"firebase/firebaseRepository.js","name":"catch","original":{"line":49,"column":9},"generated":{"line":1,"column":1560}},{"source":"firebase/firebaseRepository.js","original":{"line":49,"column":15},"generated":{"line":1,"column":1566}},{"source":"firebase/firebaseRepository.js","name":"err","original":{"line":49,"column":15},"generated":{"line":1,"column":1575}},{"source":"firebase/firebaseRepository.js","name":"reject","original":{"line":50,"column":10},"generated":{"line":1,"column":1578}},{"source":"firebase/firebaseRepository.js","original":{"line":50,"column":17},"generated":{"line":1,"column":1580}},{"source":"firebase/firebaseRepository.js","name":"songArtist","original":{"line":56,"column":12},"generated":{"line":1,"column":1639}},{"source":"firebase/firebaseRepository.js","name":"firestoreDb","original":{"line":57,"column":31},"generated":{"line":1,"column":1642}},{"source":"firebase/firebaseRepository.js","name":"doc","original":{"line":57,"column":43},"generated":{"line":1,"column":1644}},{"source":"firebase/firebaseRepository.js","name":"doc","original":{"line":57,"column":43},"generated":{"line":1,"column":1656}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":57,"column":56},"generated":{"line":1,"column":1660}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":57,"column":56},"generated":{"line":1,"column":1669}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":57,"column":56},"generated":{"line":1,"column":1676}},{"source":"firebase/firebaseRepository.js","name":"uid","original":{"line":57,"column":61},"generated":{"line":1,"column":1678}},{"source":"firebase/firebaseRepository.js","name":"set","original":{"line":58,"column":23},"generated":{"line":1,"column":1684}},{"source":"firebase/firebaseRepository.js","original":{"line":58,"column":27},"generated":{"line":1,"column":1688}},{"source":"firebase/firebaseRepository.js","name":"artistName","original":{"line":58,"column":29},"generated":{"line":1,"column":1689}},{"source":"firebase/firebaseRepository.js","name":"songArtist","original":{"line":58,"column":41},"generated":{"line":1,"column":1700}},{"source":"firebase/firebaseRepository.js","original":{"line":71,"column":0},"generated":{"line":1,"column":1709}},{"source":"firebase/firebaseRepository.js","name":"saveSongFile","original":{"line":71,"column":9},"generated":{"line":1,"column":1718}},{"source":"firebase/firebaseRepository.js","name":"userId","original":{"line":71,"column":22},"generated":{"line":1,"column":1720}},{"source":"firebase/firebaseRepository.js","name":"docRefId","original":{"line":71,"column":30},"generated":{"line":1,"column":1722}},{"source":"firebase/firebaseRepository.js","name":"songFile","original":{"line":71,"column":40},"generated":{"line":1,"column":1724}},{"source":"firebase/firebaseRepository.js","name":"cloudStorage","original":{"line":74,"column":18},"generated":{"line":1,"column":1727}},{"source":"firebase/firebaseRepository.js","name":"ref","original":{"line":74,"column":31},"generated":{"line":1,"column":1729}},{"source":"firebase/firebaseRepository.js","name":"ref","original":{"line":74,"column":31},"generated":{"line":1,"column":1742}},{"source":"firebase/firebaseRepository.js","name":"userId","original":{"line":74,"column":44},"generated":{"line":1,"column":1746}},{"source":"firebase/firebaseRepository.js","name":"userId","original":{"line":74,"column":44},"generated":{"line":1,"column":1755}},{"source":"firebase/firebaseRepository.js","name":"userId","original":{"line":74,"column":44},"generated":{"line":1,"column":1762}},{"source":"firebase/firebaseRepository.js","name":"docRefId","original":{"line":74,"column":54},"generated":{"line":1,"column":1764}},{"source":"firebase/firebaseRepository.js","name":"docRefId","original":{"line":74,"column":54},"generated":{"line":1,"column":1769}},{"source":"firebase/firebaseRepository.js","name":"docRefId","original":{"line":74,"column":54},"generated":{"line":1,"column":1776}},{"source":"firebase/firebaseRepository.js","name":"songFile","original":{"line":74,"column":66},"generated":{"line":1,"column":1778}},{"source":"firebase/firebaseRepository.js","name":"songFile","original":{"line":74,"column":66},"generated":{"line":1,"column":1783}},{"source":"firebase/firebaseRepository.js","name":"songFile","original":{"line":74,"column":66},"generated":{"line":1,"column":1790}},{"source":"firebase/firebaseRepository.js","name":"name","original":{"line":74,"column":75},"generated":{"line":1,"column":1792}},{"source":"firebase/firebaseRepository.js","name":"put","original":{"line":78,"column":29},"generated":{"line":1,"column":1799}},{"source":"firebase/firebaseRepository.js","name":"songFile","original":{"line":78,"column":33},"generated":{"line":1,"column":1803}},{"source":"firebase/firebaseRepository.js","name":"on","original":{"line":87,"column":13},"generated":{"line":1,"column":1806}},{"source":"firebase/firebaseRepository.js","original":{"line":87,"column":16},"generated":{"line":1,"column":1809}},{"source":"firebase/firebaseRepository.js","name":"progress","original":{"line":89,"column":13},"generated":{"line":1,"column":1825}},{"source":"firebase/firebaseRepository.js","name":"snapshot","original":{"line":89,"column":22},"generated":{"line":1,"column":1834}},{"source":"firebase/firebaseRepository.js","name":"console","original":{"line":90,"column":6},"generated":{"line":1,"column":1837}},{"source":"firebase/firebaseRepository.js","name":"log","original":{"line":90,"column":14},"generated":{"line":1,"column":1845}},{"source":"firebase/firebaseRepository.js","original":{"line":90,"column":18},"generated":{"line":1,"column":1849}},{"source":"firebase/firebaseRepository.js","name":"snapshot","original":{"line":90,"column":41},"generated":{"line":1,"column":1871}},{"source":"firebase/firebaseRepository.js","name":"bytesTransferred","original":{"line":90,"column":50},"generated":{"line":1,"column":1873}},{"source":"firebase/firebaseRepository.js","name":"console","original":{"line":91,"column":6},"generated":{"line":1,"column":1891}},{"source":"firebase/firebaseRepository.js","name":"log","original":{"line":91,"column":14},"generated":{"line":1,"column":1899}},{"source":"firebase/firebaseRepository.js","original":{"line":91,"column":18},"generated":{"line":1,"column":1903}},{"source":"firebase/firebaseRepository.js","name":"snapshot","original":{"line":91,"column":41},"generated":{"line":1,"column":1919}},{"source":"firebase/firebaseRepository.js","name":"totalBytes","original":{"line":91,"column":50},"generated":{"line":1,"column":1921}},{"source":"firebase/firebaseRepository.js","name":"error","original":{"line":96,"column":13},"generated":{"line":1,"column":1934}},{"source":"firebase/firebaseRepository.js","name":"err","original":{"line":96,"column":19},"generated":{"line":1,"column":1943}},{"source":"firebase/firebaseRepository.js","name":"console","original":{"line":97,"column":6},"generated":{"line":1,"column":1946}},{"source":"firebase/firebaseRepository.js","name":"error","original":{"line":97,"column":14},"generated":{"line":1,"column":1954}},{"source":"firebase/firebaseRepository.js","original":{"line":97,"column":20},"generated":{"line":1,"column":1960}},{"source":"firebase/firebaseRepository.js","name":"err","original":{"line":97,"column":74},"generated":{"line":1,"column":2013}},{"source":"firebase/firebaseRepository.js","name":"complete","original":{"line":102,"column":13},"generated":{"line":1,"column":2017}},{"source":"firebase/firebaseRepository.js","name":"console","original":{"line":103,"column":6},"generated":{"line":1,"column":2028}},{"source":"firebase/firebaseRepository.js","name":"log","original":{"line":103,"column":14},"generated":{"line":1,"column":2036}},{"source":"firebase/firebaseRepository.js","original":{"line":103,"column":18},"generated":{"line":1,"column":2040}},{"source":"firebase/firebaseRepository.js","original":{"line":114,"column":7},"generated":{"line":1,"column":2086}},{"source":"firebase/firebaseRepository.js","name":"getArtistName","original":{"line":114,"column":16},"generated":{"line":1,"column":2095}},{"source":"firebase/firebaseRepository.js","name":"userId","original":{"line":114,"column":30},"generated":{"line":1,"column":2097}},{"source":"firebase/firebaseRepository.js","original":{"line":115,"column":9},"generated":{"line":1,"column":2100}},{"source":"firebase/firebaseRepository.js","original":{"line":115,"column":9},"generated":{"line":1,"column":2107}},{"source":"firebase/firebaseRepository.js","name":"Promise","original":{"line":115,"column":13},"generated":{"line":1,"column":2111}},{"source":"firebase/firebaseRepository.js","original":{"line":115,"column":21},"generated":{"line":1,"column":2119}},{"source":"firebase/firebaseRepository.js","name":"resolve","original":{"line":115,"column":21},"generated":{"line":1,"column":2128}},{"source":"firebase/firebaseRepository.js","name":"firestoreDb","original":{"line":116,"column":25},"generated":{"line":1,"column":2131}},{"source":"firebase/firebaseRepository.js","name":"doc","original":{"line":116,"column":37},"generated":{"line":1,"column":2133}},{"source":"firebase/firebaseRepository.js","name":"doc","original":{"line":116,"column":37},"generated":{"line":1,"column":2145}},{"source":"firebase/firebaseRepository.js","name":"userId","original":{"line":116,"column":50},"generated":{"line":1,"column":2149}},{"source":"firebase/firebaseRepository.js","name":"userId","original":{"line":116,"column":50},"generated":{"line":1,"column":2158}},{"source":"firebase/firebaseRepository.js","name":"userId","original":{"line":116,"column":50},"generated":{"line":1,"column":2165}},{"source":"firebase/firebaseRepository.js","name":"get","original":{"line":119,"column":17},"generated":{"line":1,"column":2169}},{"source":"firebase/firebaseRepository.js","name":"then","original":{"line":120,"column":5},"generated":{"line":1,"column":2175}},{"source":"firebase/firebaseRepository.js","original":{"line":120,"column":10},"generated":{"line":1,"column":2180}},{"source":"firebase/firebaseRepository.js","name":"doc","original":{"line":120,"column":10},"generated":{"line":1,"column":2189}},{"source":"firebase/firebaseRepository.js","name":"doc","original":{"line":121,"column":10},"generated":{"line":1,"column":2192}},{"source":"firebase/firebaseRepository.js","name":"exists","original":{"line":121,"column":14},"generated":{"line":1,"column":2194}},{"source":"firebase/firebaseRepository.js","name":"resolve","original":{"line":121,"column":23},"generated":{"line":1,"column":2202}},{"source":"firebase/firebaseRepository.js","name":"doc","original":{"line":121,"column":31},"generated":{"line":1,"column":2204}},{"source":"firebase/firebaseRepository.js","name":"data","original":{"line":121,"column":35},"generated":{"line":1,"column":2206}},{"source":"firebase/firebaseRepository.js","name":"artistName","original":{"line":121,"column":42},"generated":{"line":1,"column":2213}},{"source":"firebase/firebaseRepository.js","original":{"line":133,"column":7},"generated":{"line":1,"column":2229}},{"source":"firebase/firebaseRepository.js","name":"readSongsFromFirestore","original":{"line":133,"column":16},"generated":{"line":1,"column":2238}},{"source":"firebase/firebaseRepository.js","name":"userId","original":{"line":133,"column":39},"generated":{"line":1,"column":2240}},{"source":"firebase/firebaseRepository.js","original":{"line":134,"column":9},"generated":{"line":1,"column":2243}},{"source":"firebase/firebaseRepository.js","original":{"line":134,"column":9},"generated":{"line":1,"column":2250}},{"source":"firebase/firebaseRepository.js","name":"Promise","original":{"line":134,"column":13},"generated":{"line":1,"column":2254}},{"source":"firebase/firebaseRepository.js","original":{"line":134,"column":21},"generated":{"line":1,"column":2262}},{"source":"firebase/firebaseRepository.js","name":"resolve","original":{"line":134,"column":21},"generated":{"line":1,"column":2271}},{"source":"firebase/firebaseRepository.js","name":"getArtistName","original":{"line":136,"column":4},"generated":{"line":1,"column":2274}},{"source":"firebase/firebaseRepository.js","name":"userId","original":{"line":136,"column":18},"generated":{"line":1,"column":2276}},{"source":"firebase/firebaseRepository.js","name":"then","original":{"line":137,"column":5},"generated":{"line":1,"column":2279}},{"source":"firebase/firebaseRepository.js","original":{"line":137,"column":10},"generated":{"line":1,"column":2284}},{"source":"firebase/firebaseRepository.js","name":"songArtist","original":{"line":137,"column":10},"generated":{"line":1,"column":2293}},{"source":"firebase/firebaseRepository.js","name":"songs","original":{"line":138,"column":12},"generated":{"line":1,"column":2296}},{"source":"firebase/firebaseRepository.js","name":"songs","original":{"line":138,"column":12},"generated":{"line":1,"column":2300}},{"source":"firebase/firebaseRepository.js","original":{"line":138,"column":20},"generated":{"line":1,"column":2302}},{"source":"firebase/firebaseRepository.js","name":"firestoreDb","original":{"line":141,"column":30},"generated":{"line":1,"column":2305}},{"source":"firebase/firebaseRepository.js","name":"collection","original":{"line":141,"column":42},"generated":{"line":1,"column":2307}},{"source":"firebase/firebaseRepository.js","name":"collection","original":{"line":141,"column":42},"generated":{"line":1,"column":2319}},{"source":"firebase/firebaseRepository.js","name":"userId","original":{"line":141,"column":62},"generated":{"line":1,"column":2330}},{"source":"firebase/firebaseRepository.js","name":"userId","original":{"line":141,"column":62},"generated":{"line":1,"column":2339}},{"source":"firebase/firebaseRepository.js","name":"userId","original":{"line":141,"column":62},"generated":{"line":1,"column":2346}},{"source":"firebase/firebaseRepository.js","original":{"line":141,"column":6},"generated":{"line":1,"column":2348}},{"source":"firebase/firebaseRepository.js","name":"get","original":{"line":144,"column":22},"generated":{"line":1,"column":2359}},{"source":"firebase/firebaseRepository.js","name":"then","original":{"line":145,"column":7},"generated":{"line":1,"column":2365}},{"source":"firebase/firebaseRepository.js","original":{"line":145,"column":12},"generated":{"line":1,"column":2370}},{"source":"firebase/firebaseRepository.js","name":"snapshot","original":{"line":145,"column":12},"generated":{"line":1,"column":2379}},{"source":"firebase/firebaseRepository.js","name":"snapshot","original":{"line":146,"column":8},"generated":{"line":1,"column":2382}},{"source":"firebase/firebaseRepository.js","name":"forEach","original":{"line":146,"column":17},"generated":{"line":1,"column":2384}},{"source":"firebase/firebaseRepository.js","original":{"line":146,"column":25},"generated":{"line":1,"column":2392}},{"source":"firebase/firebaseRepository.js","name":"doc","original":{"line":146,"column":25},"generated":{"line":1,"column":2401}},{"source":"firebase/firebaseRepository.js","name":"songData","original":{"line":147,"column":16},"generated":{"line":1,"column":2404}},{"source":"firebase/firebaseRepository.js","name":"songData","original":{"line":147,"column":16},"generated":{"line":1,"column":2408}},{"source":"firebase/firebaseRepository.js","name":"doc","original":{"line":147,"column":32},"generated":{"line":1,"column":2410}},{"source":"firebase/firebaseRepository.js","name":"doc","original":{"line":147,"column":32},"generated":{"line":1,"column":2412}},{"source":"firebase/firebaseRepository.js","name":"doc","original":{"line":147,"column":32},"generated":{"line":1,"column":2414}},{"source":"firebase/firebaseRepository.js","name":"doc","original":{"line":147,"column":32},"generated":{"line":1,"column":2417}},{"source":"firebase/firebaseRepository.js","name":"data","original":{"line":147,"column":36},"generated":{"line":1,"column":2419}},{"source":"firebase/firebaseRepository.js","original":{"line":147,"column":24},"generated":{"line":1,"column":2427}},{"source":"firebase/firebaseRepository.js","original":{"line":147,"column":24},"generated":{"line":1,"column":2430}},{"source":"firebase/firebaseRepository.js","name":"id","original":{"line":147,"column":44},"generated":{"line":1,"column":2431}},{"source":"firebase/firebaseRepository.js","name":"doc","original":{"line":147,"column":48},"generated":{"line":1,"column":2434}},{"source":"firebase/firebaseRepository.js","name":"id","original":{"line":147,"column":52},"generated":{"line":1,"column":2436}},{"source":"firebase/firebaseRepository.js","name":"songArtist","original":{"line":147,"column":56},"generated":{"line":1,"column":2439}},{"source":"firebase/firebaseRepository.js","name":"songArtist","original":{"line":147,"column":56},"generated":{"line":1,"column":2450}},{"source":"firebase/firebaseRepository.js","name":"songs","original":{"line":148,"column":10},"generated":{"line":1,"column":2454}},{"source":"firebase/firebaseRepository.js","name":"push","original":{"line":148,"column":16},"generated":{"line":1,"column":2456}},{"source":"firebase/firebaseRepository.js","name":"songData","original":{"line":148,"column":21},"generated":{"line":1,"column":2461}},{"source":"firebase/firebaseRepository.js","name":"resolve","original":{"line":151,"column":8},"generated":{"line":1,"column":2466}},{"source":"firebase/firebaseRepository.js","name":"songs","original":{"line":151,"column":16},"generated":{"line":1,"column":2468}},{"source":"firebase/firebaseRepository.js","name":"catch","original":{"line":154,"column":7},"generated":{"line":1,"column":2473}},{"source":"firebase/firebaseRepository.js","original":{"line":154,"column":13},"generated":{"line":1,"column":2479}},{"source":"firebase/firebaseRepository.js","name":"err","original":{"line":154,"column":13},"generated":{"line":1,"column":2488}},{"source":"firebase/firebaseRepository.js","name":"console","original":{"line":155,"column":8},"generated":{"line":1,"column":2491}},{"source":"firebase/firebaseRepository.js","name":"log","original":{"line":155,"column":16},"generated":{"line":1,"column":2499}},{"source":"firebase/firebaseRepository.js","name":"err","original":{"line":155,"column":20},"generated":{"line":1,"column":2503}},{"source":"firebase/firebaseRepository.js","original":{"line":169,"column":7},"generated":{"line":1,"column":2512}},{"source":"firebase/firebaseRepository.js","name":"deleteSongFromFirestore","original":{"line":169,"column":16},"generated":{"line":1,"column":2521}},{"source":"firebase/firebaseRepository.js","name":"songId","original":{"line":169,"column":40},"generated":{"line":1,"column":2523}},{"source":"firebase/firebaseRepository.js","name":"auth","original":{"line":171,"column":13},"generated":{"line":1,"column":2526}},{"source":"firebase/firebaseRepository.js","name":"auth","original":{"line":171,"column":13},"generated":{"line":1,"column":2528}},{"source":"firebase/firebaseRepository.js","name":"auth","original":{"line":171,"column":13},"generated":{"line":1,"column":2536}},{"source":"firebase/firebaseRepository.js","name":"onAuthStateChanged","original":{"line":171,"column":20},"generated":{"line":1,"column":2543}},{"source":"firebase/firebaseRepository.js","original":{"line":171,"column":39},"generated":{"line":1,"column":2562}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":171,"column":40},"generated":{"line":1,"column":2571}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":172,"column":10},"generated":{"line":1,"column":2574}},{"source":"firebase/firebaseRepository.js","name":"firestoreDb","original":{"line":173,"column":29},"generated":{"line":1,"column":2577}},{"source":"firebase/firebaseRepository.js","name":"doc","original":{"line":173,"column":41},"generated":{"line":1,"column":2579}},{"source":"firebase/firebaseRepository.js","name":"doc","original":{"line":173,"column":41},"generated":{"line":1,"column":2591}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":173,"column":54},"generated":{"line":1,"column":2595}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":173,"column":54},"generated":{"line":1,"column":2604}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":173,"column":54},"generated":{"line":1,"column":2611}},{"source":"firebase/firebaseRepository.js","name":"uid","original":{"line":173,"column":59},"generated":{"line":1,"column":2613}},{"source":"firebase/firebaseRepository.js","name":"songId","original":{"line":173,"column":72},"generated":{"line":1,"column":2617}},{"source":"firebase/firebaseRepository.js","name":"songId","original":{"line":173,"column":72},"generated":{"line":1,"column":2628}},{"source":"firebase/firebaseRepository.js","name":"songId","original":{"line":173,"column":72},"generated":{"line":1,"column":2635}},{"source":"firebase/firebaseRepository.js","name":"delete","original":{"line":175,"column":21},"generated":{"line":1,"column":2639}},{"source":"firebase/firebaseRepository.js","name":"then","original":{"line":177,"column":9},"generated":{"line":1,"column":2648}},{"source":"firebase/firebaseRepository.js","original":{"line":177,"column":14},"generated":{"line":1,"column":2653}},{"source":"firebase/firebaseRepository.js","name":"console","original":{"line":178,"column":10},"generated":{"line":1,"column":2664}},{"source":"firebase/firebaseRepository.js","name":"log","original":{"line":178,"column":18},"generated":{"line":1,"column":2672}},{"source":"firebase/firebaseRepository.js","name":"songId","original":{"line":178,"column":48},"generated":{"line":1,"column":2676}},{"source":"firebase/firebaseRepository.js","name":"songId","original":{"line":178,"column":48},"generated":{"line":1,"column":2702}},{"source":"firebase/firebaseRepository.js","name":"songId","original":{"line":178,"column":48},"generated":{"line":1,"column":2709}},{"source":"firebase/firebaseRepository.js","original":{"line":177,"column":20},"generated":{"line":1,"column":2711}},{"source":"firebase/firebaseRepository.js","name":"catch","original":{"line":182,"column":9},"generated":{"line":1,"column":2748}},{"source":"firebase/firebaseRepository.js","original":{"line":182,"column":15},"generated":{"line":1,"column":2754}},{"source":"firebase/firebaseRepository.js","name":"err","original":{"line":182,"column":15},"generated":{"line":1,"column":2763}},{"source":"firebase/firebaseRepository.js","original":{"line":197,"column":7},"generated":{"line":1,"column":2771}},{"source":"firebase/firebaseRepository.js","name":"getSongFromFirestore","original":{"line":197,"column":16},"generated":{"line":1,"column":2780}},{"source":"firebase/firebaseRepository.js","name":"songId","original":{"line":197,"column":37},"generated":{"line":1,"column":2782}},{"source":"firebase/firebaseRepository.js","original":{"line":198,"column":9},"generated":{"line":1,"column":2785}},{"source":"firebase/firebaseRepository.js","original":{"line":198,"column":9},"generated":{"line":1,"column":2792}},{"source":"firebase/firebaseRepository.js","name":"Promise","original":{"line":198,"column":13},"generated":{"line":1,"column":2796}},{"source":"firebase/firebaseRepository.js","original":{"line":198,"column":21},"generated":{"line":1,"column":2804}},{"source":"firebase/firebaseRepository.js","name":"resolve","original":{"line":198,"column":22},"generated":{"line":1,"column":2813}},{"source":"firebase/firebaseRepository.js","name":"reject","original":{"line":198,"column":31},"generated":{"line":1,"column":2815}},{"source":"firebase/firebaseRepository.js","name":"auth","original":{"line":199,"column":13},"generated":{"line":1,"column":2818}},{"source":"firebase/firebaseRepository.js","name":"auth","original":{"line":199,"column":13},"generated":{"line":1,"column":2820}},{"source":"firebase/firebaseRepository.js","name":"auth","original":{"line":199,"column":13},"generated":{"line":1,"column":2828}},{"source":"firebase/firebaseRepository.js","name":"onAuthStateChanged","original":{"line":199,"column":20},"generated":{"line":1,"column":2835}},{"source":"firebase/firebaseRepository.js","original":{"line":199,"column":39},"generated":{"line":1,"column":2854}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":199,"column":40},"generated":{"line":1,"column":2863}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":200,"column":10},"generated":{"line":1,"column":2866}},{"source":"firebase/firebaseRepository.js","name":"firestoreDb","original":{"line":202,"column":29},"generated":{"line":1,"column":2869}},{"source":"firebase/firebaseRepository.js","name":"doc","original":{"line":202,"column":41},"generated":{"line":1,"column":2871}},{"source":"firebase/firebaseRepository.js","name":"doc","original":{"line":202,"column":41},"generated":{"line":1,"column":2883}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":202,"column":54},"generated":{"line":1,"column":2887}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":202,"column":54},"generated":{"line":1,"column":2896}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":202,"column":54},"generated":{"line":1,"column":2903}},{"source":"firebase/firebaseRepository.js","name":"uid","original":{"line":202,"column":59},"generated":{"line":1,"column":2905}},{"source":"firebase/firebaseRepository.js","name":"songId","original":{"line":202,"column":72},"generated":{"line":1,"column":2909}},{"source":"firebase/firebaseRepository.js","name":"songId","original":{"line":202,"column":72},"generated":{"line":1,"column":2920}},{"source":"firebase/firebaseRepository.js","name":"songId","original":{"line":202,"column":72},"generated":{"line":1,"column":2927}},{"source":"firebase/firebaseRepository.js","name":"get","original":{"line":205,"column":21},"generated":{"line":1,"column":2931}},{"source":"firebase/firebaseRepository.js","name":"then","original":{"line":206,"column":9},"generated":{"line":1,"column":2937}},{"source":"firebase/firebaseRepository.js","original":{"line":206,"column":14},"generated":{"line":1,"column":2942}},{"source":"firebase/firebaseRepository.js","name":"doc","original":{"line":206,"column":14},"generated":{"line":1,"column":2951}},{"source":"firebase/firebaseRepository.js","name":"doc","original":{"line":207,"column":14},"generated":{"line":1,"column":2954}},{"source":"firebase/firebaseRepository.js","name":"doc","original":{"line":207,"column":14},"generated":{"line":1,"column":2957}},{"source":"firebase/firebaseRepository.js","name":"exists","original":{"line":207,"column":18},"generated":{"line":1,"column":2959}},{"source":"firebase/firebaseRepository.js","original":{"line":207,"column":25},"generated":{"line":1,"column":2966}},{"source":"firebase/firebaseRepository.js","name":"songData","original":{"line":208,"column":18},"generated":{"line":1,"column":2967}},{"source":"firebase/firebaseRepository.js","name":"songData","original":{"line":208,"column":18},"generated":{"line":1,"column":2971}},{"source":"firebase/firebaseRepository.js","name":"doc","original":{"line":208,"column":34},"generated":{"line":1,"column":2973}},{"source":"firebase/firebaseRepository.js","name":"doc","original":{"line":208,"column":34},"generated":{"line":1,"column":2975}},{"source":"firebase/firebaseRepository.js","name":"doc","original":{"line":208,"column":34},"generated":{"line":1,"column":2977}},{"source":"firebase/firebaseRepository.js","name":"doc","original":{"line":208,"column":34},"generated":{"line":1,"column":2980}},{"source":"firebase/firebaseRepository.js","name":"data","original":{"line":208,"column":38},"generated":{"line":1,"column":2982}},{"source":"firebase/firebaseRepository.js","original":{"line":208,"column":26},"generated":{"line":1,"column":2990}},{"source":"firebase/firebaseRepository.js","original":{"line":208,"column":26},"generated":{"line":1,"column":2993}},{"source":"firebase/firebaseRepository.js","name":"id","original":{"line":208,"column":46},"generated":{"line":1,"column":2994}},{"source":"firebase/firebaseRepository.js","name":"doc","original":{"line":208,"column":50},"generated":{"line":1,"column":2997}},{"source":"firebase/firebaseRepository.js","name":"id","original":{"line":208,"column":54},"generated":{"line":1,"column":2999}},{"source":"firebase/firebaseRepository.js","name":"resolve","original":{"line":209,"column":12},"generated":{"line":1,"column":3004}},{"source":"firebase/firebaseRepository.js","name":"songData","original":{"line":209,"column":20},"generated":{"line":1,"column":3006}},{"source":"firebase/firebaseRepository.js","name":"catch","original":{"line":213,"column":9},"generated":{"line":1,"column":3012}},{"source":"firebase/firebaseRepository.js","original":{"line":213,"column":15},"generated":{"line":1,"column":3018}},{"source":"firebase/firebaseRepository.js","name":"err","original":{"line":213,"column":15},"generated":{"line":1,"column":3027}},{"source":"firebase/firebaseRepository.js","name":"reject","original":{"line":237,"column":10},"generated":{"line":1,"column":3030}},{"source":"firebase/firebaseRepository.js","name":"songId","original":{"line":237,"column":72},"generated":{"line":1,"column":3032}},{"source":"firebase/firebaseRepository.js","name":"songId","original":{"line":237,"column":72},"generated":{"line":1,"column":3087}},{"source":"firebase/firebaseRepository.js","name":"songId","original":{"line":237,"column":72},"generated":{"line":1,"column":3094}},{"source":"firebase/firebaseRepository.js","original":{"line":252,"column":7},"generated":{"line":1,"column":3104}},{"source":"firebase/firebaseRepository.js","name":"updateSongInFirebase","original":{"line":252,"column":16},"generated":{"line":1,"column":3113}},{"source":"firebase/firebaseRepository.js","name":"song","original":{"line":252,"column":37},"generated":{"line":1,"column":3115}},{"source":"firebase/firebaseRepository.js","name":"auth","original":{"line":253,"column":11},"generated":{"line":1,"column":3118}},{"source":"firebase/firebaseRepository.js","name":"auth","original":{"line":253,"column":11},"generated":{"line":1,"column":3120}},{"source":"firebase/firebaseRepository.js","name":"auth","original":{"line":253,"column":11},"generated":{"line":1,"column":3128}},{"source":"firebase/firebaseRepository.js","name":"onAuthStateChanged","original":{"line":253,"column":18},"generated":{"line":1,"column":3135}},{"source":"firebase/firebaseRepository.js","original":{"line":253,"column":37},"generated":{"line":1,"column":3154}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":253,"column":38},"generated":{"line":1,"column":3163}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":254,"column":8},"generated":{"line":1,"column":3166}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":254,"column":8},"generated":{"line":1,"column":3169}},{"source":"firebase/firebaseRepository.js","original":{"line":254,"column":13},"generated":{"line":1,"column":3171}},{"source":"firebase/firebaseRepository.js","name":"songDocument","original":{"line":256,"column":12},"generated":{"line":1,"column":3172}},{"source":"firebase/firebaseRepository.js","name":"songDocument","original":{"line":256,"column":12},"generated":{"line":1,"column":3176}},{"source":"firebase/firebaseRepository.js","name":"firestoreDb","original":{"line":256,"column":27},"generated":{"line":1,"column":3178}},{"source":"firebase/firebaseRepository.js","name":"doc","original":{"line":256,"column":39},"generated":{"line":1,"column":3180}},{"source":"firebase/firebaseRepository.js","name":"doc","original":{"line":256,"column":39},"generated":{"line":1,"column":3192}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":256,"column":52},"generated":{"line":1,"column":3196}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":256,"column":52},"generated":{"line":1,"column":3205}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":256,"column":52},"generated":{"line":1,"column":3212}},{"source":"firebase/firebaseRepository.js","name":"uid","original":{"line":256,"column":57},"generated":{"line":1,"column":3214}},{"source":"firebase/firebaseRepository.js","name":"song","original":{"line":256,"column":70},"generated":{"line":1,"column":3218}},{"source":"firebase/firebaseRepository.js","name":"song","original":{"line":256,"column":70},"generated":{"line":1,"column":3229}},{"source":"firebase/firebaseRepository.js","name":"song","original":{"line":256,"column":70},"generated":{"line":1,"column":3236}},{"source":"firebase/firebaseRepository.js","name":"id","original":{"line":256,"column":75},"generated":{"line":1,"column":3238}},{"source":"firebase/firebaseRepository.js","name":"updatedSong","original":{"line":260,"column":12},"generated":{"line":1,"column":3243}},{"source":"firebase/firebaseRepository.js","original":{"line":260,"column":26},"generated":{"line":1,"column":3245}},{"source":"firebase/firebaseRepository.js","name":"songTitle","original":{"line":261,"column":8},"generated":{"line":1,"column":3246}},{"source":"firebase/firebaseRepository.js","name":"song","original":{"line":261,"column":19},"generated":{"line":1,"column":3256}},{"source":"firebase/firebaseRepository.js","name":"songTitle","original":{"line":261,"column":24},"generated":{"line":1,"column":3258}},{"source":"firebase/firebaseRepository.js","name":"songDocument","original":{"line":267,"column":6},"generated":{"line":1,"column":3269}},{"source":"firebase/firebaseRepository.js","name":"update","original":{"line":267,"column":19},"generated":{"line":1,"column":3271}},{"source":"firebase/firebaseRepository.js","name":"updatedSong","original":{"line":267,"column":26},"generated":{"line":1,"column":3278}},{"source":"firebase/firebaseRepository.js","name":"then","original":{"line":268,"column":7},"generated":{"line":1,"column":3281}},{"source":"firebase/firebaseRepository.js","original":{"line":268,"column":12},"generated":{"line":1,"column":3286}},{"source":"firebase/firebaseRepository.js","name":"console","original":{"line":269,"column":8},"generated":{"line":1,"column":3297}},{"source":"firebase/firebaseRepository.js","name":"log","original":{"line":269,"column":16},"generated":{"line":1,"column":3305}},{"source":"firebase/firebaseRepository.js","original":{"line":269,"column":20},"generated":{"line":1,"column":3309}},{"source":"firebase/firebaseRepository.js","name":"song","original":{"line":269,"column":60},"generated":{"line":1,"column":3348}},{"source":"firebase/firebaseRepository.js","name":"catch","original":{"line":271,"column":7},"generated":{"line":1,"column":3353}},{"source":"firebase/firebaseRepository.js","original":{"line":271,"column":13},"generated":{"line":1,"column":3359}},{"source":"firebase/firebaseRepository.js","name":"err","original":{"line":271,"column":13},"generated":{"line":1,"column":3368}},{"source":"firebase/firebaseRepository.js","name":"console","original":{"line":272,"column":8},"generated":{"line":1,"column":3371}},{"source":"firebase/firebaseRepository.js","name":"error","original":{"line":272,"column":16},"generated":{"line":1,"column":3379}},{"source":"firebase/firebaseRepository.js","original":{"line":272,"column":22},"generated":{"line":1,"column":3385}},{"source":"firebase/firebaseRepository.js","name":"song","original":{"line":272,"column":71},"generated":{"line":1,"column":3433}},{"source":"firebase/firebaseRepository.js","name":"err","original":{"line":272,"column":77},"generated":{"line":1,"column":3435}},{"source":"firebase/firebaseRepository.js","original":{"line":285,"column":7},"generated":{"line":1,"column":3443}},{"source":"firebase/firebaseRepository.js","name":"getAudioFromStorage","original":{"line":285,"column":16},"generated":{"line":1,"column":3452}},{"source":"firebase/firebaseRepository.js","name":"userId","original":{"line":285,"column":36},"generated":{"line":1,"column":3454}},{"source":"firebase/firebaseRepository.js","name":"fileName","original":{"line":285,"column":44},"generated":{"line":1,"column":3456}},{"source":"firebase/firebaseRepository.js","original":{"line":286,"column":9},"generated":{"line":1,"column":3459}},{"source":"firebase/firebaseRepository.js","original":{"line":286,"column":9},"generated":{"line":1,"column":3466}},{"source":"firebase/firebaseRepository.js","name":"Promise","original":{"line":286,"column":13},"generated":{"line":1,"column":3470}},{"source":"firebase/firebaseRepository.js","original":{"line":286,"column":21},"generated":{"line":1,"column":3478}},{"source":"firebase/firebaseRepository.js","name":"resolve","original":{"line":286,"column":21},"generated":{"line":1,"column":3487}},{"source":"firebase/firebaseRepository.js","name":"cloudStorage","original":{"line":288,"column":20},"generated":{"line":1,"column":3490}},{"source":"firebase/firebaseRepository.js","name":"ref","original":{"line":288,"column":33},"generated":{"line":1,"column":3492}},{"source":"firebase/firebaseRepository.js","name":"ref","original":{"line":288,"column":33},"generated":{"line":1,"column":3505}},{"source":"firebase/firebaseRepository.js","name":"userId","original":{"line":288,"column":46},"generated":{"line":1,"column":3509}},{"source":"firebase/firebaseRepository.js","name":"userId","original":{"line":288,"column":46},"generated":{"line":1,"column":3518}},{"source":"firebase/firebaseRepository.js","name":"userId","original":{"line":288,"column":46},"generated":{"line":1,"column":3525}},{"source":"firebase/firebaseRepository.js","name":"fileName","original":{"line":288,"column":56},"generated":{"line":1,"column":3527}},{"source":"firebase/firebaseRepository.js","name":"fileName","original":{"line":288,"column":56},"generated":{"line":1,"column":3532}},{"source":"firebase/firebaseRepository.js","name":"fileName","original":{"line":288,"column":56},"generated":{"line":1,"column":3539}},{"source":"firebase/firebaseRepository.js","name":"getDownloadURL","original":{"line":292,"column":12},"generated":{"line":1,"column":3543}},{"source":"firebase/firebaseRepository.js","name":"then","original":{"line":293,"column":7},"generated":{"line":1,"column":3560}},{"source":"firebase/firebaseRepository.js","original":{"line":293,"column":12},"generated":{"line":1,"column":3565}},{"source":"firebase/firebaseRepository.js","name":"url","original":{"line":293,"column":12},"generated":{"line":1,"column":3574}},{"source":"firebase/firebaseRepository.js","name":"resolve","original":{"line":293,"column":20},"generated":{"line":1,"column":3577}},{"source":"firebase/firebaseRepository.js","name":"resolve","original":{"line":293,"column":20},"generated":{"line":1,"column":3584}},{"source":"firebase/firebaseRepository.js","name":"url","original":{"line":293,"column":28},"generated":{"line":1,"column":3586}},{"source":"firebase/firebaseRepository.js","name":"catch","original":{"line":295,"column":7},"generated":{"line":1,"column":3591}},{"source":"firebase/firebaseRepository.js","original":{"line":295,"column":13},"generated":{"line":1,"column":3597}},{"source":"firebase/firebaseRepository.js","name":"err","original":{"line":295,"column":13},"generated":{"line":1,"column":3606}},{"source":"firebase/firebaseRepository.js","name":"console","original":{"line":296,"column":8},"generated":{"line":1,"column":3609}},{"source":"firebase/firebaseRepository.js","name":"error","original":{"line":296,"column":16},"generated":{"line":1,"column":3617}},{"source":"firebase/firebaseRepository.js","original":{"line":296,"column":22},"generated":{"line":1,"column":3623}},{"source":"firebase/firebaseRepository.js","name":"err","original":{"line":296,"column":87},"generated":{"line":1,"column":3687}},{"source":"firebase/firebaseRepository.js","original":{"line":307,"column":7},"generated":{"line":1,"column":3694}},{"source":"firebase/firebaseRepository.js","name":"getAllArtists","original":{"line":307,"column":16},"generated":{"line":1,"column":3703}},{"source":"firebase/firebaseRepository.js","original":{"line":308,"column":9},"generated":{"line":1,"column":3707}},{"source":"firebase/firebaseRepository.js","original":{"line":308,"column":9},"generated":{"line":1,"column":3714}},{"source":"firebase/firebaseRepository.js","name":"Promise","original":{"line":308,"column":13},"generated":{"line":1,"column":3718}},{"source":"firebase/firebaseRepository.js","original":{"line":308,"column":21},"generated":{"line":1,"column":3726}},{"source":"firebase/firebaseRepository.js","name":"resolve","original":{"line":308,"column":21},"generated":{"line":1,"column":3735}},{"source":"firebase/firebaseRepository.js","name":"artists","original":{"line":310,"column":8},"generated":{"line":1,"column":3738}},{"source":"firebase/firebaseRepository.js","name":"artists","original":{"line":310,"column":8},"generated":{"line":1,"column":3742}},{"source":"firebase/firebaseRepository.js","original":{"line":310,"column":27},"generated":{"line":1,"column":3744}},{"source":"firebase/firebaseRepository.js","name":"firestoreDb","original":{"line":311,"column":27},"generated":{"line":1,"column":3747}},{"source":"firebase/firebaseRepository.js","name":"collection","original":{"line":311,"column":39},"generated":{"line":1,"column":3749}},{"source":"firebase/firebaseRepository.js","name":"collection","original":{"line":311,"column":39},"generated":{"line":1,"column":3761}},{"source":"firebase/firebaseRepository.js","original":{"line":311,"column":50},"generated":{"line":1,"column":3772}},{"source":"firebase/firebaseRepository.js","name":"get","original":{"line":314,"column":19},"generated":{"line":1,"column":3781}},{"source":"firebase/firebaseRepository.js","name":"then","original":{"line":315,"column":5},"generated":{"line":1,"column":3787}},{"source":"firebase/firebaseRepository.js","original":{"line":315,"column":10},"generated":{"line":1,"column":3792}},{"source":"firebase/firebaseRepository.js","name":"snapshot","original":{"line":315,"column":10},"generated":{"line":1,"column":3801}},{"source":"firebase/firebaseRepository.js","name":"snapshot","original":{"line":316,"column":6},"generated":{"line":1,"column":3804}},{"source":"firebase/firebaseRepository.js","name":"forEach","original":{"line":316,"column":15},"generated":{"line":1,"column":3806}},{"source":"firebase/firebaseRepository.js","original":{"line":316,"column":23},"generated":{"line":1,"column":3814}},{"source":"firebase/firebaseRepository.js","name":"docRef","original":{"line":316,"column":23},"generated":{"line":1,"column":3823}},{"source":"firebase/firebaseRepository.js","name":"artist","original":{"line":317,"column":14},"generated":{"line":1,"column":3826}},{"source":"firebase/firebaseRepository.js","name":"artist","original":{"line":317,"column":14},"generated":{"line":1,"column":3830}},{"source":"firebase/firebaseRepository.js","name":"docRef","original":{"line":317,"column":28},"generated":{"line":1,"column":3832}},{"source":"firebase/firebaseRepository.js","name":"docRef","original":{"line":317,"column":28},"generated":{"line":1,"column":3834}},{"source":"firebase/firebaseRepository.js","name":"docRef","original":{"line":317,"column":28},"generated":{"line":1,"column":3836}},{"source":"firebase/firebaseRepository.js","name":"docRef","original":{"line":317,"column":28},"generated":{"line":1,"column":3839}},{"source":"firebase/firebaseRepository.js","name":"data","original":{"line":317,"column":35},"generated":{"line":1,"column":3841}},{"source":"firebase/firebaseRepository.js","original":{"line":317,"column":20},"generated":{"line":1,"column":3849}},{"source":"firebase/firebaseRepository.js","original":{"line":317,"column":20},"generated":{"line":1,"column":3852}},{"source":"firebase/firebaseRepository.js","name":"id","original":{"line":317,"column":43},"generated":{"line":1,"column":3853}},{"source":"firebase/firebaseRepository.js","name":"docRef","original":{"line":317,"column":47},"generated":{"line":1,"column":3856}},{"source":"firebase/firebaseRepository.js","name":"id","original":{"line":317,"column":54},"generated":{"line":1,"column":3858}},{"source":"firebase/firebaseRepository.js","name":"artists","original":{"line":318,"column":8},"generated":{"line":1,"column":3863}},{"source":"firebase/firebaseRepository.js","name":"push","original":{"line":318,"column":16},"generated":{"line":1,"column":3865}},{"source":"firebase/firebaseRepository.js","name":"artist","original":{"line":318,"column":21},"generated":{"line":1,"column":3870}},{"source":"firebase/firebaseRepository.js","name":"resolve","original":{"line":321,"column":6},"generated":{"line":1,"column":3875}},{"source":"firebase/firebaseRepository.js","name":"artists","original":{"line":321,"column":14},"generated":{"line":1,"column":3877}},{"source":"firebase/firebaseRepository.js","original":{"line":334,"column":7},"generated":{"line":1,"column":3884}},{"source":"firebase/firebaseRepository.js","name":"saveCommentToFirestore","original":{"line":334,"column":16},"generated":{"line":1,"column":3893}},{"source":"firebase/firebaseRepository.js","name":"commentText","original":{"line":334,"column":39},"generated":{"line":1,"column":3895}},{"source":"firebase/firebaseRepository.js","name":"songId","original":{"line":334,"column":52},"generated":{"line":1,"column":3897}},{"source":"firebase/firebaseRepository.js","name":"auth","original":{"line":335,"column":11},"generated":{"line":1,"column":3900}},{"source":"firebase/firebaseRepository.js","name":"auth","original":{"line":335,"column":11},"generated":{"line":1,"column":3902}},{"source":"firebase/firebaseRepository.js","name":"auth","original":{"line":335,"column":11},"generated":{"line":1,"column":3910}},{"source":"firebase/firebaseRepository.js","name":"onAuthStateChanged","original":{"line":335,"column":18},"generated":{"line":1,"column":3917}},{"source":"firebase/firebaseRepository.js","original":{"line":335,"column":37},"generated":{"line":1,"column":3936}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":335,"column":37},"generated":{"line":1,"column":3945}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":336,"column":8},"generated":{"line":1,"column":3948}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":336,"column":8},"generated":{"line":1,"column":3951}},{"source":"firebase/firebaseRepository.js","original":{"line":336,"column":13},"generated":{"line":1,"column":3953}},{"source":"firebase/firebaseRepository.js","name":"commentCollection","original":{"line":337,"column":12},"generated":{"line":1,"column":3954}},{"source":"firebase/firebaseRepository.js","name":"commentCollection","original":{"line":337,"column":12},"generated":{"line":1,"column":3958}},{"source":"firebase/firebaseRepository.js","name":"firestoreDb","original":{"line":337,"column":32},"generated":{"line":1,"column":3960}},{"source":"firebase/firebaseRepository.js","name":"collection","original":{"line":337,"column":44},"generated":{"line":1,"column":3962}},{"source":"firebase/firebaseRepository.js","name":"collection","original":{"line":337,"column":44},"generated":{"line":1,"column":3974}},{"source":"firebase/firebaseRepository.js","original":{"line":337,"column":6},"generated":{"line":1,"column":3985}},{"source":"firebase/firebaseRepository.js","name":"userName","original":{"line":338,"column":12},"generated":{"line":1,"column":3997}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":338,"column":32},"generated":{"line":1,"column":3999}},{"source":"firebase/firebaseRepository.js","name":"displayName","original":{"line":338,"column":37},"generated":{"line":1,"column":4001}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":338,"column":51},"generated":{"line":1,"column":4013}},{"source":"firebase/firebaseRepository.js","name":"displayName","original":{"line":338,"column":56},"generated":{"line":1,"column":4015}},{"source":"firebase/firebaseRepository.js","original":{"line":338,"column":70},"generated":{"line":1,"column":4027}},{"source":"firebase/firebaseRepository.js","name":"commentCollection","original":{"line":341,"column":6},"generated":{"line":1,"column":4039}},{"source":"firebase/firebaseRepository.js","name":"add","original":{"line":341,"column":24},"generated":{"line":1,"column":4041}},{"source":"firebase/firebaseRepository.js","original":{"line":341,"column":28},"generated":{"line":1,"column":4045}},{"source":"firebase/firebaseRepository.js","name":"userId","original":{"line":342,"column":8},"generated":{"line":1,"column":4046}},{"source":"firebase/firebaseRepository.js","name":"user","original":{"line":342,"column":21},"generated":{"line":1,"column":4053}},{"source":"firebase/firebaseRepository.js","name":"uid","original":{"line":342,"column":26},"generated":{"line":1,"column":4055}},{"source":"firebase/firebaseRepository.js","name":"userName","original":{"line":343,"column":8},"generated":{"line":1,"column":4059}},{"source":"firebase/firebaseRepository.js","name":"userName","original":{"line":343,"column":21},"generated":{"line":1,"column":4068}},{"source":"firebase/firebaseRepository.js","name":"songId","original":{"line":344,"column":8},"generated":{"line":1,"column":4070}},{"source":"firebase/firebaseRepository.js","name":"songId","original":{"line":344,"column":21},"generated":{"line":1,"column":4077}},{"source":"firebase/firebaseRepository.js","name":"commentText","original":{"line":345,"column":8},"generated":{"line":1,"column":4079}},{"source":"firebase/firebaseRepository.js","name":"commentText","original":{"line":345,"column":21},"generated":{"line":1,"column":4091}},{"source":"firebase/firebaseRepository.js","name":"date","original":{"line":346,"column":8},"generated":{"line":1,"column":4093}},{"source":"firebase/firebaseRepository.js","name":"Date","original":{"line":346,"column":21},"generated":{"line":1,"column":4098}},{"source":"firebase/firebaseRepository.js","name":"now","original":{"line":346,"column":26},"generated":{"line":1,"column":4103}},{"source":"firebase/firebaseRepository.js","name":"then","original":{"line":350,"column":7},"generated":{"line":1,"column":4111}},{"source":"firebase/firebaseRepository.js","original":{"line":350,"column":12},"generated":{"line":1,"column":4116}},{"source":"firebase/firebaseRepository.js","name":"console","original":{"line":351,"column":8},"generated":{"line":1,"column":4127}},{"source":"firebase/firebaseRepository.js","name":"log","original":{"line":351,"column":16},"generated":{"line":1,"column":4135}},{"source":"firebase/firebaseRepository.js","original":{"line":351,"column":20},"generated":{"line":1,"column":4139}},{"source":"firebase/firebaseRepository.js","name":"catch","original":{"line":355,"column":7},"generated":{"line":1,"column":4185}},{"source":"firebase/firebaseRepository.js","original":{"line":355,"column":13},"generated":{"line":1,"column":4191}},{"source":"firebase/firebaseRepository.js","name":"err","original":{"line":355,"column":13},"generated":{"line":1,"column":4200}},{"source":"firebase/firebaseRepository.js","name":"console","original":{"line":356,"column":8},"generated":{"line":1,"column":4203}},{"source":"firebase/firebaseRepository.js","name":"error","original":{"line":356,"column":16},"generated":{"line":1,"column":4211}},{"source":"firebase/firebaseRepository.js","original":{"line":356,"column":22},"generated":{"line":1,"column":4217}},{"source":"firebase/firebaseRepository.js","name":"err","original":{"line":356,"column":91},"generated":{"line":1,"column":4285}},{"source":"firebase/firebaseRepository.js","original":{"line":369,"column":7},"generated":{"line":1,"column":4293}},{"source":"firebase/firebaseRepository.js","name":"getCommentsForSong","original":{"line":369,"column":16},"generated":{"line":1,"column":4302}},{"source":"firebase/firebaseRepository.js","name":"songId","original":{"line":369,"column":35},"generated":{"line":1,"column":4304}},{"source":"firebase/firebaseRepository.js","original":{"line":370,"column":9},"generated":{"line":1,"column":4307}},{"source":"firebase/firebaseRepository.js","original":{"line":370,"column":9},"generated":{"line":1,"column":4314}},{"source":"firebase/firebaseRepository.js","name":"Promise","original":{"line":370,"column":13},"generated":{"line":1,"column":4318}},{"source":"firebase/firebaseRepository.js","original":{"line":370,"column":21},"generated":{"line":1,"column":4326}},{"source":"firebase/firebaseRepository.js","name":"resolve","original":{"line":370,"column":21},"generated":{"line":1,"column":4335}},{"source":"firebase/firebaseRepository.js","name":"commentCollection","original":{"line":371,"column":10},"generated":{"line":1,"column":4338}},{"source":"firebase/firebaseRepository.js","name":"commentCollection","original":{"line":371,"column":10},"generated":{"line":1,"column":4342}},{"source":"firebase/firebaseRepository.js","name":"firestoreDb","original":{"line":371,"column":30},"generated":{"line":1,"column":4344}},{"source":"firebase/firebaseRepository.js","name":"collection","original":{"line":371,"column":42},"generated":{"line":1,"column":4346}},{"source":"firebase/firebaseRepository.js","name":"collection","original":{"line":371,"column":42},"generated":{"line":1,"column":4358}},{"source":"firebase/firebaseRepository.js","original":{"line":371,"column":53},"generated":{"line":1,"column":4369}},{"source":"firebase/firebaseRepository.js","name":"where","original":{"line":371,"column":65},"generated":{"line":1,"column":4381}},{"source":"firebase/firebaseRepository.js","original":{"line":371,"column":71},"generated":{"line":1,"column":4387}},{"source":"firebase/firebaseRepository.js","original":{"line":371,"column":81},"generated":{"line":1,"column":4396}},{"source":"firebase/firebaseRepository.js","name":"songId","original":{"line":371,"column":87},"generated":{"line":1,"column":4401}},{"source":"firebase/firebaseRepository.js","name":"comments","original":{"line":372,"column":10},"generated":{"line":1,"column":4404}},{"source":"firebase/firebaseRepository.js","original":{"line":372,"column":30},"generated":{"line":1,"column":4406}},{"source":"firebase/firebaseRepository.js","name":"commentCollection","original":{"line":375,"column":4},"generated":{"line":1,"column":4409}},{"source":"firebase/firebaseRepository.js","name":"get","original":{"line":375,"column":22},"generated":{"line":1,"column":4411}},{"source":"firebase/firebaseRepository.js","name":"then","original":{"line":376,"column":5},"generated":{"line":1,"column":4417}},{"source":"firebase/firebaseRepository.js","original":{"line":376,"column":10},"generated":{"line":1,"column":4422}},{"source":"firebase/firebaseRepository.js","name":"snapshot","original":{"line":376,"column":10},"generated":{"line":1,"column":4431}},{"source":"firebase/firebaseRepository.js","name":"snapshot","original":{"line":377,"column":6},"generated":{"line":1,"column":4434}},{"source":"firebase/firebaseRepository.js","name":"forEach","original":{"line":377,"column":15},"generated":{"line":1,"column":4436}},{"source":"firebase/firebaseRepository.js","original":{"line":377,"column":23},"generated":{"line":1,"column":4444}},{"source":"firebase/firebaseRepository.js","name":"comment","original":{"line":377,"column":23},"generated":{"line":1,"column":4453}},{"source":"firebase/firebaseRepository.js","name":"comments","original":{"line":377,"column":36},"generated":{"line":1,"column":4456}},{"source":"firebase/firebaseRepository.js","name":"push","original":{"line":377,"column":45},"generated":{"line":1,"column":4458}},{"source":"firebase/firebaseRepository.js","name":"comment","original":{"line":377,"column":50},"generated":{"line":1,"column":4463}},{"source":"firebase/firebaseRepository.js","name":"data","original":{"line":377,"column":58},"generated":{"line":1,"column":4465}},{"source":"firebase/firebaseRepository.js","name":"resolve","original":{"line":378,"column":6},"generated":{"line":1,"column":4475}},{"source":"firebase/firebaseRepository.js","name":"comments","original":{"line":378,"column":14},"generated":{"line":1,"column":4477}}],"sources":{"firebase/firebaseRepository.js":"import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\nimport { firestoreDb, cloudStorage } from './firebaseConfiguration';\nimport { addSong }  from '../scripts/utilities.js';\n\n\n/* =============================================================================\n\n============================================================================= */\n\n\nexport function writeSongToFirestore(songArtist, songTitle, songFile){\n  //////////////////////////////////////////////////////////////////////////////\n  //\n  //  Why are we wrapping this in a Promise and returning it?\n  //  So that a .then() can be attached to the invocation.\n  //\n  //    writeSongToFirestore(songArtist, songTitle)\n  //    .then(()   => { addSongForm.reset(); })\n  //    .catch(err => { console.log(\"Here is the caught error from the rejected Promise: \", err); })\n  //\n  //////////////////////////////////////////////////////////////////////////////\n\n  return new Promise((resolve, reject) => {\n    //Organize the song artist and song title into an object.\n    const song = {\n      songTitle: songTitle,\n      songFileName: songFile.name //.name is a property on any File.\n    };\n\n\n    firebase.auth().onAuthStateChanged(user => {\n      if (user){\n        //Get the collection of songs for the current user.\n        const songsCollection = firestoreDb.collection(`users/${user.uid}/songs`);\n\n        //Add the song to a document in the songs collection and log the document id.\n        songsCollection.add(song)\n        .then(docRef => {\n          resolve();\n          console.log('Song document Id: ', docRef.id);\n          //docRef.id is the way we find the data in Firestore.\n          //We will use it as part of the file name in cloud storage.\n          //This is so we can match the song in Firestore with the file in cloud storage.\n          saveSongFile(user.uid, docRef.id, songFile);\n        })\n\n        .catch(err => {\n          reject(\"There was an error while writing a song to firestore.\");\n          //console.error('There was an error while writing a song to firestore: ', err);\n        });\n\n\n        //Add artist to user doc if artist exists\n        if (songArtist){\n          const userDocument = firestoreDb.doc(`users/${user.uid}`);\n          userDocument.set({ artistName: songArtist });\n        }\n      }\n    });\n  }); //End of return new Promise( ... );\n}\n\n\n/* =============================================================================\n\n============================================================================= */\n\n\nfunction saveSongFile(userId, docRefId, songFile){\n  //Create a reference to the file path in Cloud Storage.\n  //This will create the path if it does not already exist.\n  const fileRef = cloudStorage.ref(`songs/${userId}/${docRefId}-${songFile.name}`);\n\n\n  //Upload the file to Cloud Storage.\n  const uploadTask = fileRef.put(songFile);\n\n\n  /* =======================\n\n  ======================= */\n\n\n  //The returned task can indicate changes in the state of the file upload.\n  uploadTask.on('state_changed',\n    //The progress function can indicate how many bytes have been transferred to Cloud Storage.\n    function progress(snapshot) {\n      console.log('Bytes transferred: ', snapshot.bytesTransferred);\n      console.log('Total bytes: ',       snapshot.totalBytes);\n    },\n\n\n    //The error function will be called if there is an error while the file is uploading.\n    function error(err){\n      console.error('There was an error while saving to Cloud Storage: ', err);\n    },\n\n\n    // The complete function will be called once the upload has completed successfully.\n    function complete() {\n      console.log('File successfully saved to Cloud Storage');\n    }\n  ); //End of uploadTask.on( ... )\n}\n\n\n/* =============================================================================\n\n============================================================================= */\n\n\nexport function getArtistName(userId){\n  return new Promise(resolve => {\n    const userDocument = firestoreDb.doc(`users/${userId}`); //Get reference to the user document\n\n    //Get the user's artist name\n    userDocument.get()\n    .then(doc => {\n      if (doc.exists){ resolve(doc.data().artistName); }\n    });\n  });\n}\n\n\n/* =============================================================================\n\n============================================================================= */\n//This function is used by the my-songs.html page as well as the select-artist.html page.\n\n\nexport function readSongsFromFirestore(userId){\n  return new Promise(resolve => {\n\n    getArtistName(userId)\n    .then(songArtist => {\n      const songs = [];\n\n      //Get the collection of songs for the current user.\n      const songsCollection = firestoreDb.collection(`users/${userId}/songs`);\n\n      //Get all song documents from the song collection.\n      songsCollection.get()\n      .then(snapshot => {\n        snapshot.forEach(doc => {\n          const songData = { ...doc.data(), id: doc.id, songArtist };\n          songs.push(songData);\n        });\n\n        resolve(songs);\n      })\n\n      .catch(err => {\n        console.log(err);\n      })\n    });\n  }); //End of  return new Promise( ... );\n}\n\n\n/* =============================================================================\n\n============================================================================= */\n//The Promise functionality is not needed, but it could be useful if you wanted\n//to add flexibility in the place where it's called.\n\n\nexport function deleteSongFromFirestore(songId){\n  //return new Promise((resolve, reject) => {\n    firebase.auth().onAuthStateChanged((user) => {\n      if (user){\n        const songDocument = firestoreDb.doc(`users/${user.uid}/songs/${songId}`);\n\n        songDocument.delete()\n\n        .then(() => {\n          console.log(`The song with an id of ${songId} has been deleted successfully`);\n          //resolve();\n        })\n\n        .catch(err => {\n          //console.error(`There was an error while trying to delete song with id ${songId}.`, err);\n          //reject(`There was an error while trying to delete song with id ${songId}.`);\n        });\n      }\n    });\n  //}); //End of return new Promise( ... )\n}\n\n\n/* =============================================================================\n\n============================================================================= */\n\n\nexport function getSongFromFirestore(songId){\n  return new Promise((resolve, reject) => {\n    firebase.auth().onAuthStateChanged((user) => {\n      if (user){\n        //Assign the reference to the song document using songId\n        const songDocument = firestoreDb.doc(`users/${user.uid}/songs/${songId}`);\n\n        //Get the song data from Firestore\n        songDocument.get()\n        .then(doc => {\n          if (doc.exists){\n            const songData = { ...doc.data(), id: doc.id };\n            resolve(songData);\n          }\n        })\n\n        .catch(err => {\n          //console.error(`There was an error while trying to get song with id ${songId}`, err);\n\n          //////////////////////////////////////////////////////////////////////\n          //\n          //  This is then handled by the catch in this code in index.js\n          //\n          // const editSongForm = document.getElementById('edit-song-form');\n          // if (editSongForm){\n          //   const searchParams = new URLSearchParams(location.search);\n          //   const songId       = searchParams.get('id');\n          //   getSongFromFirestore(songId)\n          //   .then(song => {\n          //     editSongForm.elements.song_id.value               = song.id;\n          //     editSongForm.elements.edit_artist_input.value     = song.songArtist;\n          //     editSongForm.elements.edit_song_title_input.value = song.songTitle;\n          //   })\n          //   .catch(err => {\n          //     console.log(err);\n          //   })\n          // }\n          //\n          //////////////////////////////////////////////////////////////////////\n\n          reject(`There was an error while trying to get song with id ${songId}`);\n        });\n      }\n    });\n  });\n}\n\n\n\n\n/* =============================================================================\n\n============================================================================= */\n\n\nexport function updateSongInFirebase(song){\n  firebase.auth().onAuthStateChanged((user) => {\n    if (user){\n      //Assign the reference to the song document using songId\n      const songDocument = firestoreDb.doc(`users/${user.uid}/songs/${song.id}`);\n\n\n      //Create a new song object\n      const updatedSong = {\n        songTitle: song.songTitle\n      };\n\n\n      //Update the song with the new song object\n      //The update() method will only update the fields that you ask it to.\n      songDocument.update(updatedSong)\n      .then(() => {\n        console.log('Your song was updated successfully: ', song);\n      })\n      .catch(err => {\n        console.error('There was an error while updating your song: ', song, err);\n      });\n\n    }\n  });\n}\n\n\n/* =============================================================================\n\n============================================================================= */\n\n\nexport function getAudioFromStorage(userId, fileName){\n  return new Promise(resolve => {\n    //Get the reference to the file in Cloud Storage\n    const fileRef = cloudStorage.ref(`songs/${userId}/${fileName}`);\n\n\n    //Get the URL for the song file in Cloud Storage\n    fileRef.getDownloadURL()\n      .then(url  => resolve(url))\n\n      .catch(err => {\n        console.error('There was an error while retrieving a file from Cloud Storage', err);\n      });\n  });\n}\n\n\n/* =============================================================================\n\n============================================================================= */\n\n\nexport function getAllArtists(){\n  return new Promise(resolve => {\n    //Get all the artist names\n    let artists          = [];\n    const userCollection = firestoreDb.collection('users');\n\n\n    userCollection.get()\n    .then(snapshot => {\n      snapshot.forEach(docRef => {\n        const artist = { ...docRef.data(), id: docRef.id }\n        artists.push(artist);\n      });\n\n      resolve(artists);\n    });\n\n  });\n}\n\n\n/* =============================================================================\n\n============================================================================= */\n\n\n\nexport function saveCommentToFirestore(commentText, songId){\n  firebase.auth().onAuthStateChanged(user => {\n    if (user){\n      const commentCollection = firestoreDb.collection(`comments`);\n      const userName          = user.displayName ? user.displayName : 'Anonymous';\n\n\n      commentCollection.add({\n        userId:      user.uid,\n        userName:    userName,\n        songId:      songId,\n        commentText: commentText,\n        date:        Date.now()\n      })\n\n\n      .then(() => {\n        console.log('Comment successfully added to firestore.');\n      })\n\n\n      .catch(err => {\n        console.error('There was an error when trying to add your comment to firestore: ', err);\n      });\n\n    } //End of if (user){ ... }\n  }); //End of firebase.auth().onAuthStateChanged( ... );\n}\n\n\n/* =============================================================================\n\n============================================================================= */\n\n\nexport function getCommentsForSong(songId){\n  return new Promise(resolve => {\n    const commentCollection = firestoreDb.collection('comments').where(\"songId\", \"==\", songId);\n    const comments          = [];\n\n\n    commentCollection.get()\n    .then(snapshot => {\n      snapshot.forEach(comment => { comments.push(comment.data()); });\n      resolve(comments);\n    });\n  });\n}\n\n\n\n/**/\n"},"lineCount":null}},"error":null,"hash":"925c66e9bd2c63e522536715fc56c5a2","cacheData":{"env":{}}}